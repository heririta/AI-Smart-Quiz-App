2025-10-19 17:55:02,568 - utils.error_handler - INFO - OpenAI TTS client initialized successfully
2025-10-19 17:55:27,780 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 200 OK"
2025-10-19 17:55:27,809 - utils.error_handler - ERROR - Error in TTS Generation: {'type': 'AttributeError', 'message': "'ErrorHandler' object has no attribute 'log_error'", 'context': 'TTS Generation', 'timestamp': '2025-10-19T17:55:27.780496', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\ai_speech.py", line 91, in generate_speech\n    response.stream_to_file(audio_buffer)\n  File "C:\\Users\\heri.santoso\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\openai\\_response.py", line 552, in stream_to_file\n    with open(file, mode="wb") as f:\n         ^^^^^^^^^^^^^^^^^^^^^\nTypeError: expected str, bytes or os.PathLike object, not BytesIO\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 132, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\ai_speech.py", line 101, in generate_speech\n    error_handler.log_error(f"Failed to generate speech: {str(e)}")\n    ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: \'ErrorHandler\' object has no attribute \'log_error\'\n'}
2025-10-19 17:56:35,361 - utils.error_handler - INFO - OpenAI TTS client initialized successfully
2025-10-19 17:57:19,175 - utils.error_handler - INFO - OpenAI TTS client initialized successfully
2025-10-19 17:58:26,509 - utils.error_handler - INFO - OpenAI TTS client initialized successfully
2025-10-19 17:58:46,887 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/audio/speech "HTTP/1.1 200 OK"
2025-10-19 17:58:47,218 - utils.error_handler - INFO - Generated 35520 bytes of audio for text: 'What is 15 + 27?...'
2025-10-19 18:12:17,105 - error_handler - ERROR - Error in Question Management: {'type': 'AttributeError', 'message': "'Question' object has no attribute 'category_name'", 'context': 'Question Management', 'timestamp': '2025-10-19T18:12:17.056760', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 637, in question_management\n    st.markdown(f"**Category:** {question.category_name}")\n                                 ^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pydantic\\main.py", line 991, in __getattr__\n    raise AttributeError(f\'{type(self).__name__!r} object has no attribute {item!r}\')\nAttributeError: \'Question\' object has no attribute \'category_name\'\n'}
2025-10-19 18:21:24,854 - error_handler - ERROR - Error in Question Management: {'type': 'ValueError', 'message': "<DifficultyLevel.EASY: 'easy'> is not in list", 'context': 'Question Management', 'timestamp': '2025-10-19T18:21:24.840878', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 695, in question_management\n    index=["Easy", "Medium", "Hard"].index(question.difficulty)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: <DifficultyLevel.EASY: \'easy\'> is not in list\n'}
2025-10-19 18:30:57,288 - error_handler - ERROR - Error in Question Management: {'type': 'ValueError', 'message': "<DifficultyLevel.EASY: 'easy'> is not in list", 'context': 'Question Management', 'timestamp': '2025-10-19T18:30:57.283096', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 705, in question_management\n    index=["Easy", "Medium", "Hard"].index(question.difficulty)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: <DifficultyLevel.EASY: \'easy\'> is not in list\n'}
2025-10-19 18:34:14,834 - error_handler - ERROR - Error in Question Management: {'type': 'ValueError', 'message': "<DifficultyLevel.MEDIUM: 'medium'> is not in list", 'context': 'Question Management', 'timestamp': '2025-10-19T18:34:14.834520', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 705, in question_management\n    index=["Easy", "Medium", "Hard"].index(question.difficulty)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: <DifficultyLevel.MEDIUM: \'medium\'> is not in list\n'}
2025-10-19 18:35:15,994 - error_handler - ERROR - Error in Question Management: {'type': 'ValueError', 'message': "<DifficultyLevel.MEDIUM: 'medium'> is not in list", 'context': 'Question Management', 'timestamp': '2025-10-19T18:35:15.993238', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 705, in question_management\n    index=["Easy", "Medium", "Hard"].index(question.difficulty)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: <DifficultyLevel.MEDIUM: \'medium\'> is not in list\n'}
2025-10-19 18:48:27,711 - error_handler - ERROR - Error in Question Management: {'type': 'ValidationError', 'message': "1 validation error for QuestionCreate\ndifficulty\n  Input should be 'easy', 'medium' or 'hard' [type=enum, input_value='Easy', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/enum", 'context': 'Question Management', 'timestamp': '2025-10-19T18:48:27.704125', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 777, in question_management\n    question_create = QuestionCreate(\n                      ^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pydantic\\main.py", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for QuestionCreate\ndifficulty\n  Input should be \'easy\', \'medium\' or \'hard\' [type=enum, input_value=\'Easy\', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.11/v/enum\n'}
2025-10-20 00:00:39,951 - error_handler - ERROR - Error in Question Management: {'type': 'AttributeError', 'message': "'Question' object has no attribute 'combined_content'", 'context': 'Question Management', 'timestamp': '2025-10-20T00:00:39.947564', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 661, in question_management\n    if question.combined_content:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pydantic\\main.py", line 991, in __getattr__\n    raise AttributeError(f\'{type(self).__name__!r} object has no attribute {item!r}\')\nAttributeError: \'Question\' object has no attribute \'combined_content\'\n'}
2025-10-20 00:04:40,340 - error_handler - ERROR - Error in Question Management: {'type': 'UnboundLocalError', 'message': "cannot access local variable 'category_id' where it is not associated with a value", 'context': 'Question Management', 'timestamp': '2025-10-20T00:04:40.340863', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 625, in question_management\n    total_questions = db_manager.get_total_questions_count(category_id) if category_id else db_manager.get_total_questions_count()\n                                                                           ^^^^^^^^^^^\nUnboundLocalError: cannot access local variable \'category_id\' where it is not associated with a value\n'}
2025-10-20 00:07:34,557 - error_handler - ERROR - Error in Question Management: {'type': 'UnboundLocalError', 'message': "cannot access local variable 'category_id' where it is not associated with a value", 'context': 'Question Management', 'timestamp': '2025-10-20T00:07:34.557897', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 625, in question_management\n    total_questions = db_manager.get_total_questions_count(category_id) if category_id else db_manager.get_total_questions_count()\n                                                                           ^^^^^^^^^^^\nUnboundLocalError: cannot access local variable \'category_id\' where it is not associated with a value\n'}
2025-10-20 00:11:16,843 - error_handler - ERROR - Error in Question Management: {'type': 'TypeError', 'message': "DatabaseManager.get_total_questions_count() missing 1 required positional argument: 'category_id'", 'context': 'Question Management', 'timestamp': '2025-10-20T00:11:16.842129', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 641, in question_management\n    total_questions = db_manager.get_total_questions_count(category_id) if category_id else db_manager.get_total_questions_count()\n                                                                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: DatabaseManager.get_total_questions_count() missing 1 required positional argument: \'category_id\'\n'}
2025-10-20 00:11:28,292 - error_handler - ERROR - Error in Question Management: {'type': 'TypeError', 'message': "DatabaseManager.get_total_questions_count() missing 1 required positional argument: 'category_id'", 'context': 'Question Management', 'timestamp': '2025-10-20T00:11:28.292040', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\utils\\error_handler.py", line 137, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\heri.santoso\\Documents\\FOLDER_heri\\Project4\\claude\\project\\AI Smart Quiz App\\app.py", line 641, in question_management\n    total_questions = db_manager.get_total_questions_count(category_id) if category_id else db_manager.get_total_questions_count()\n                                                                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: DatabaseManager.get_total_questions_count() missing 1 required positional argument: \'category_id\'\n'}
2025-10-20 07:07:40,898 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-29792' coro=<WebSocketProtocol13.write_message.<locals>.wrapper() done, defined at C:\Users\heri.santoso\AppData\Local\Programs\Python\Python311\Lib\site-packages\tornado\websocket.py:1111> exception=WebSocketClosedError()>
Traceback (most recent call last):
  File "C:\Users\heri.santoso\AppData\Local\Programs\Python\Python311\Lib\site-packages\tornado\websocket.py", line 1113, in wrapper
    await fut
tornado.iostream.StreamClosedError: Stream is closed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\heri.santoso\AppData\Local\Programs\Python\Python311\Lib\site-packages\tornado\websocket.py", line 1115, in wrapper
    raise WebSocketClosedError()
tornado.websocket.WebSocketClosedError
